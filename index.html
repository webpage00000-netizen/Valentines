<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Just For You ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0b0b0d, #141418);
    min-height:100vh;
    overflow-x:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  /* Background collage */
  .bg-collage {
    position: fixed;
    inset: 0;
    z-index: 0;
    display:grid;
    grid-template-columns: repeat(5,1fr);
    grid-auto-rows: 200px;
    gap: 10px;
    filter: blur(10px) brightness(0.5);
    animation: moveCollage 60s linear infinite;
  }
  .bg-collage img { width:100%; height:100%; object-fit:cover; }
  @keyframes moveCollage {
    0% {transform:translateX(0) translateY(0);}
    50% {transform:translateX(-50px) translateY(-30px);}
    100% {transform:translateX(0) translateY(0);}
  }

  .flowers-bg {
    position:fixed;
    inset:0;
    z-index:1;
    opacity:0;
    transition:opacity 1.5s ease;
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255,182,193,.25) 0 6px, transparent 7px),
      radial-gradient(circle at 80% 30%, rgba(255,192,203,.3) 0 7px, transparent 8px),
      radial-gradient(circle at 50% 70%, rgba(255,160,180,.25) 0 6px, transparent 7px),
      radial-gradient(circle at 20% 80%, rgba(255,200,210,.3) 0 7px, transparent 8px);
    background-size:180px 180px;
    animation: float 25s linear infinite;
  }
  @keyframes float { from { background-position:0 0;} to{background-position:400px 800px;} }

  .container {
    position:relative;
    z-index:2;
    max-width:850px;
    width:90vw;
    padding:20px;
    text-align:center;
    overflow-wrap: break-word;
  }

  .card {
    background: rgba(20,20,24,0.9);
    border-radius:25px;
    padding:40px 20px;
    box-shadow:0 20px 40px rgba(0,0,0,0.6);
    display:none;
    animation: fadeUp 1.2s ease forwards;
    width:100%;
  }
  @keyframes fadeUp { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }

  h1 { font-family:'Playfair Display', serif; font-size:3rem; color:#f5f5f7; margin-bottom:20px; line-height:1.4; word-break:break-word;}
  p { color:#e5e5ea; margin-bottom:20px; line-height:1.4; word-break:break-word; }

  .btn {
    background:linear-gradient(135deg, #2b2b30,#3a3a42);
    color:#f5f5f7;
    border:none;
    padding:14px 28px;
    font-size:1rem;
    border-radius:50px;
    cursor:pointer;
    box-shadow:0 10px 25px rgba(0,0,0,0.6);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .btn:hover { transform:translateY(-2px); box-shadow:0 15px 30px rgba(255,255,255,0.15); }

  #openBtn {
    background:none;
    color:#f5f5f7;
    border:2px solid #f5f5f7;
    padding:14px 40px;
    font-size:1.5rem;
    border-radius:10px;
    cursor:pointer;
    z-index:5;
    position:relative;
  }
  #openBtn:hover{background:rgba(255,255,255,0.1);}

  .floating-flower {
    position:fixed;
    bottom:-80px;
    z-index:3;
    pointer-events:none;
    filter: drop-shadow(0 0 6px rgba(255,200,220,0.6));
  }
  @keyframes floatUp {0%{transform:translateY(0) rotate(0deg); opacity:1;} 100%{transform:translateY(-120vh) rotate(360deg); opacity:0;}}

  .collage {
    display:flex;
    gap:10px;
    margin-top:20px;
    overflow:hidden;
    justify-content:center;
    transition: transform 1s ease;
  }
  .collage-track {
    display:flex;
    animation: scrollCollage 15s linear infinite;
  }
  .collage img {
    width:120px;
    height:120px;
    object-fit:cover;
    border-radius:15px;
    border:2px solid #e5e5ea;
    box-shadow:0 5px 15px rgba(255,255,255,0.1);
    opacity:1;
    transition:opacity 0.5s ease, transform 0.5s ease;
  }
  @keyframes scrollCollage {0%{transform:translateX(0);} 100%{transform:translateX(-50%);} }

  #backFlowersBtn {
    position:fixed;
    top:15px;
    left:15px;
    z-index:10;
    background:rgba(255,255,255,0.2);
    color:#fff;
    border:none;
    padding:8px 12px;
    font-size:0.9rem;
    border-radius:8px;
    cursor:pointer;
    display:none;
  }
  #backFlowersBtn:hover { background: rgba(255,255,255,0.4); }

  /* Slideshow overlay */
#slideshowOverlay {
  display:none;
  position:absolute; /* not fixed */
  inset:0;
  background: rgba(0,0,0,0.3); /* semi-transparent so text/marquee is visible */
  z-index:2; /* behind Step3 card z-index 2 */
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none; /* allow clicking buttons behind */
}

#slideshowOverlay img {
  max-width: 80vw;
  max-height: 60vh;
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.8s ease, transform 0.8s ease;

  /* Added frame like marquee */
  border-radius: 15px;
  border: 2px solid #e5e5ea;
  box-shadow: 0 5px 15px rgba(255,255,255,0.1);
}

</style>
</head>
<body>

<!-- Background collage -->
<div class="bg-collage" id="bgCollage">
  <!-- Add 24 images here -->
  <img src="IMAGES/1.jpg" />
  <img src="IMAGES/2.jpg" />
  <img src="IMAGES/3.jpg" />
  <img src="IMAGES/4.jpg" />
  <img src="IMAGES/5.jpg" />
  <img src="IMAGES/6.jpg" />
  <img src="IMAGES/7.jpg" />
  <img src="IMAGES/8.jpg" />
  <img src="IMAGES/9.jpg" />
  <img src="IMAGES/10.jpg" />
  <img src="IMAGES/11.jpg" />
  <img src="IMAGES/12.jpg" />
  <img src="IMAGES/13.jpg" />
  <img src="IMAGES/14.jpg" />
  <img src="IMAGES/15.jpg" />
  <img src="IMAGES/16.jpg" />
  <img src="IMAGES/17.jpg" />
  <img src="IMAGES/18.jpg" />
  <img src="IMAGES/19.jpg" />
  <img src="IMAGES/20.jpg" />
  <img src="IMAGES/21.jpg" />
</div>

<div class="flowers-bg" id="flowers"></div>

<div class="container">
  <button id="openBtn">Open</button>

  <!-- Step1 -->
  <div class="card" id="step1">
    <h1 id="step1-text" data-text="Hey there,"></h1>
    <p id="step1-para" data-text="will you be my Valentine? ‚ù§Ô∏è"></p>
    <button class="btn" id="btnStart">Yes ‚ú®</button>
    <button class="btn" id="btnStart">No, Thank you!</button>
  </div>

  <!-- Step2 -->
  <div class="card" id="step2">
    <h1 id="step2-text" data-text="Happy Monthsary ‚ù§Ô∏è"></h1>
    <p id="step2-para" data-text="Just a short message before the surprise‚Ä¶"></p>
    <button class="btn" onclick="showMessage()">Read it üíó</button>
  </div>

  <!-- Step3 -->
  <div class="card" id="step3">
    <p id="step3-para" data-text="Every month with you is something I‚Äôm grateful for. Thank you for being my safe place, my comfort, and my favorite person. I‚Äôm excited for all the days we still get to share."></p>
    <div class="collage">
      <div class="collage-track">
        <img src="IMAGES/1.jpg" />
        <img src="IMAGES/2.jpg" />
        <img src="IMAGES/3.jpg" />
        <img src="IMAGES/4.jpg" />
        <img src="IMAGES/5.jpg" />
        <img src="IMAGES/6.jpg" />
        <img src="IMAGES/7.jpg" />
        <img src="IMAGES/8.jpg" />
        <img src="IMAGES/9.jpg" />
        <img src="IMAGES/10.jpg" />
        <img src="IMAGES/11.jpg" />
        <img src="IMAGES/12.jpg" />
        <img src="IMAGES/13.jpg" />
        <img src="IMAGES/14.jpg" />
        <img src="IMAGES/15.jpg" />
        <img src="IMAGES/16.jpg" />
        <img src="IMAGES/17.jpg" />
        <img src="IMAGES/18.jpg" />
        <img src="IMAGES/19.jpg" />
        <img src="IMAGES/20.jpg" />
        <img src="IMAGES/21.jpg" />
      </div>
    </div>
    <button class="btn" onclick="showFlowers()" style="display:none">Flower for you!!!! üå∏</button>
  </div>
</div>

<button id="backFlowersBtn">‚¨ÖÔ∏è</button>

<div id="slideshowOverlay">
  <img id="slideshowImg" src="" />
</div>

<audio id="bgMusic" autoplay loop>
  <source src="IMAGES/aaaa.mp3" type="audio/mpeg">
</audio>

<script>
const bgMusic = document.getElementById('bgMusic');
const openBtn = document.getElementById('openBtn');
const backFlowersBtn = document.getElementById('backFlowersBtn');

document.getElementById('step1').style.display='none';
document.getElementById('step2').style.display='none';
document.getElementById('step3').style.display='none';

function typeWriterPromise(elementId,speed=50){
  return new Promise(resolve=>{
    const el=document.getElementById(elementId);
    const text=el.getAttribute('data-text');
    el.innerHTML='';
    for(let i=0;i<text.length;i++){
      const span=document.createElement('span');
      span.innerText=text[i];
      span.style.opacity='0';
      el.appendChild(span);
    }
    let i=0;
    const timer=setInterval(()=>{
      const span=el.children[i];
      span.style.opacity='1';
      i++;
      if(i>=text.length){ clearInterval(timer); resolve(); }
    },speed);
  });
}

openBtn.addEventListener('click', async()=>{
  openBtn.style.display='none';
  document.getElementById('step1').style.display='block';
  bgMusic.play().catch(e=>console.log("Autoplay blocked:",e));
  await typeWriterPromise('step1-text',80);
  await typeWriterPromise('step1-para',50);
});

document.getElementById('btnStart').addEventListener('click',showMonthsary);

async function showMonthsary(){
  document.getElementById('step1').style.display='none';
  document.getElementById('step2').style.display='block';
  await typeWriterPromise('step2-text',80);
  await typeWriterPromise('step2-para',50);
}

async function showMessage(){
  document.getElementById('step2').style.display='none';
  await showStep3WithSlideshowOverlay();
}

async function showStep3WithSlideshowOverlay(){
  const step3=document.getElementById('step3');
  step3.style.display='block';
  const flowerBtn = step3.querySelector('.btn[onclick="showFlowers()"]');
  flowerBtn.style.display='none';

  await typeWriterPromise('step3-para',40);

  // Show slideshow overlay on top but keep step3 visible
  const slideshowOverlay=document.getElementById('slideshowOverlay');
  const slideshowImg=document.getElementById('slideshowImg');
  slideshowOverlay.style.display='flex';

  const images=[
    'IMAGES/3.jpeg','IMAGES/4.jpg','IMAGES/5.jpeg','IMAGES/6.jpeg',
    'IMAGES/7.jpg','IMAGES/8.jpg','IMAGES/9.jpeg','IMAGES/10.jpeg',
    'IMAGES/11.jpeg','IMAGES/12.jpeg','IMAGES/13.jpeg','IMAGES/14.jpeg',
    'IMAGES/15.jpeg','IMAGES/16.jpeg','IMAGES/17.jpeg','IMAGES/18.jpeg',
    'IMAGES/19.jpeg','IMAGES/20.jpeg','IMAGES/21.jpg','IMAGES/22.jpeg',
    'IMAGES/23.jpg','IMAGES/24.jpeg'
  ];

  // preload images
  images.forEach(src=>{ const img=new Image(); img.src=src; });

  for(let i=0;i<images.length;i++){
    slideshowImg.src=images[i];
    slideshowImg.style.opacity='0';
    slideshowImg.style.transform='scale(0.8)';
    await new Promise(res=>setTimeout(res,50));
    slideshowImg.style.opacity='1';
    slideshowImg.style.transform='scale(1.1)';
    await new Promise(res=>setTimeout(res,1200));
    slideshowImg.style.opacity='0';
  }

  slideshowOverlay.style.display='none';
  flowerBtn.style.display='inline-block';
}

function showFlowers(){
  document.querySelectorAll('.card').forEach(c=>c.style.display='none');
  document.getElementById('flowers').style.opacity='1';
  document.querySelectorAll('.floating-flower').forEach(f=>f.remove());
  backFlowersBtn.style.display='block';

  const flowerEmojis=['üå∏','üå∫','üåπ','üíÆ','ü•Ä','üåª'];
  for(let i=0;i<50;i++){
    const flower=document.createElement('div');
    flower.className='floating-flower';
    flower.innerText=flowerEmojis[Math.floor(Math.random()*flowerEmojis.length)];
    flower.style.left=Math.random()*100+'vw';
    flower.style.fontSize=(1.5+Math.random()*3)+'rem';
    flower.style.animation=`floatUp ${6+Math.random()*6}s linear forwards`;
    flower.style.animationDelay=Math.random()*2+'s';
    document.body.appendChild(flower);
  }
}

backFlowersBtn.addEventListener('click',()=>{
  document.getElementById('flowers').style.opacity='0';
  document.querySelectorAll('.floating-flower').forEach(f=>f.remove());
  document.getElementById('step3').style.display='block';
  backFlowersBtn.style.display='none';
});
</script>
</body>
</html>

